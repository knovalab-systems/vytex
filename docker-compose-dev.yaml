
version: "3.8"

services:

  api-dev:
    container_name: api-dev
    build:
      dockerfile: dockerfile.dev.api
      context: ./.docker/
    volumes:
      - ./api/:/app
    ports:
    - 8080:8080
    networks:
    - app-net
    
  app-dev:
    container_name: app-dev
    build:
      dockerfile: dockerfile.dev.app
      context: ./.docker/
    command: sh -c 'cd app && npm run dev'
    volumes:
        - ./:/app
    ports:
    - 4040:4040
    networks:
    - app-net
networks:
  app-net:    

# to run without logs by container: docker compose up --no-log-prefix   

# remove logs from other services
#  logging:
#     driver: none
#    attach: false

